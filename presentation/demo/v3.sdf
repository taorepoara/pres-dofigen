## v3: Optimiser la taille de l'image .[sbs]

```yaml
builders:
  package:
    fromImage: maven:3.9-eclipse-temurin-17-alpine
    copy: "."
    root:
      run: mvn clean package -DskipTests
fromImage: eclipse-temurin:17-jre-alpine
copy:
  - fromBuilder: package
    paths: target/*.jar
    target: app.jar
cmd: [ java, -jar, app.jar ]
```

/*
DÃ©finition d'un builder basÃ© sur une image maven alpine (lÃ©gÃ¨re)
Utilisation de maven sans wrapper
Image finale basÃ©e sur JRE alpine
RÃ©cupÃ©ration du JAR en tant qu'artefact depuis le builder
*/

## v3: Optimiser la taille de l'image .[sbs]

| Taille      | 1er accÃ¨s | Tps build   | Tps rebuild   | User    | Sans JDK	 |
|-------------|-----------|-------------|---------------|---------|------------|
| 185 Mo      | 3s        | 20s         | =             | 1000    | Oui        |

### ProblÃ¨mes

- Chargement des libs Ã  chaque build ğŸ“š

<div class="step" markdown>
### Du mieux

- Taille de l'image divisÃ©e par 3,5 ğŸª¶
- Plus de JDK dans l'image finale ğŸ›¡ï¸
</div>

/*
Taille de l'image divisÃ©e par 3,5 ğŸª¶
Plus de JDK dans l'image finale ğŸ›¡ï¸

Next: RÃ©duire le temps de build
*/
