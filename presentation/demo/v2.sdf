## v2: Tranformation pour Dofigen .[sbs]

```yaml
fromImage: eclipse-temurin:17-jdk
copy: "."
root:
  run:
    - ./mvnw clean package -DskipTests
    - mv target/*.jar app.jar
cmd:
  - java
  - -jar
  - app.jar
```

/*
On prend les champs correspondants aux commandes du Dockerfile
Le seul changement est la dÃ©finition de la commande en tant que root, car par dÃ©faut non-root
*/

## v2: Tranformation pour Dofigen .[sbs]

| Taille      | 1er accÃ¨s | Tps build   | Tps rebuild   | User    | Sans JDK	 |
|-------------|-----------|-------------|---------------|---------|------------|
| 521 Mo      | 3s        | 20s         | =             | 1000    | Non        |

### ProblÃ¨mes

- Image lourde ğŸª¨
- Contient le JDK ğŸ›
- Chargement des libs Ã  chaque build ğŸ“š

<div class="step" markdown>
### Du mieux

- Utilisateur non-root ğŸ˜·
- On gagne 20 Mo sur l'image ğŸ’‡

/*
Utilisateur non root
20 Mo de moins: pas grand chose, Ã©quivalent Ã  une coupe de cheuveux
C'est dÃ» aux RUN passÃ©s sur une seule commande

Next: RÃ©duire la taille de l'image
*/
</div>
