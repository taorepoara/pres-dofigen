
## Les Dockerfiles ğŸ¤” .[steps sbs]

<img src="./park-and-recs-ron-swanson.gif" style="width: 50vw;" />

/*
dev: beaucoup de sujets Ã  traiter: tests, sÃ©curitÃ©, performance, etc.
Maintenant, on doit aussi savoir crÃ©er des images Docker

Next: Sondage
*/

## Petit sondage ğŸ“Š .[steps sbs]

Le dev Ã  tout faire doit-il maÃ®triser l'Ã©criture de Dockerfile ?

- Qui est dÃ©veloppeur ?
- Qui a dÃ©jÃ  Ã©crit un Dockerfile ?
- Qui comprend les principes de layers et de stages dans Docker ?


/*
Pour ceux qui ne savent pas
le layer: un niveau de construction d'une image. Ã©quivalent d'un commit dans un git
un stage: une image temporaire dans laquelle on peut faire des traÃ®tement dont le rÃ©sultat pourra Ãªtre copiÃ© dans l'image finale

Next: ProblÃ¨mes que j'ai rencontrÃ©s avec les Dockerfile
Syntaxe des Dockerfile
*/

## Un nouveau "langage" Ã  apprendre ğŸ¤¯

Quand tu dÃ©cides de faire ton premier Dockerfile:

<img src="./bored-sigh.gif" style="width: 50vw;" />

/*
syntaxe en commandes: pas envie, on dirait du Cobol

Next: Pour comprendre, je vais lire un Dockerfile existant
*/

## Les Dockerfile sont souvent longs et complexes ğŸ“œ

Quand tu lis un Dockerfile pour la premiÃ¨re fois:

<img src="./theoffice-michael-scott.gif" style="width: 50vw;" />

/*
beaucoup de layers + les stages pas toujours bien sÃ©parÃ©s

On s'y perd

Next: Une fois qu'on a rÃ©ussi Ã  crÃ©er son image Docker, on se rend compte qu'on a pas respectÃ© les bonnes pratiques pour l'envoyer en prod
*/

## Pas de "bonnes pratiques" par dÃ©faut ğŸ˜‘

Quand tu envoies en prod:

<img src="./silicon-valley-fire.gif" style="width: 50vw;" />

/*
La plus part des images Docker ne sont pas sÃ©curisÃ©es par dÃ©faut

Next: Comment Dofigen tente de rÃ©pondre Ã  ces problÃ¨mes
*/

## Comment Dofigen tente de rÃ©pondre Ã  ces problÃ¨mes .[steps]

/*
Pour Lenra, on voulait une solution simple pour les devs de crÃ©er des images Docker pour la prod.
J'ai crÃ©Ã© Dofigen comme un projet Ã  part et qui est utilisÃ© comme dÃ©pendance du CLI de Lenra.

Dofigen: Docker file generator

- syntaxe: simple Ã  lire et Ã  Ã©crire + facile Ã  modifier via un script + facile de voir les stages
- layers: ordre des dÃ©finitions n'a pas d'importance (dans un mÃªme niveau) + Gestion de cache plus simple
- bonnes pratiques: rootless par dÃ©faut + `.dockerignore` dans le mÃªme fichier et peut Ãªtre dÃ©fini par ajout plutÃ´t que suppression
*/

- Syntaxe en YAML (ou JSON) ğŸ“
- Abstraction du concept de layers ğŸ“¦
- Bonnes pratiques par dÃ©faut ğŸ˜‡
